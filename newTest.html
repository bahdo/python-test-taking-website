<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script type="text/javascript" src = "main.js"></script>
	<link rel="stylesheet" type="text/css" href="testStyle.css">
	<style>
		nav {
		    margin: 0;
		    padding: 0;
    		overflow: hidden;
    		background-color: #2e64ba;
		}
		nav a {
			float: left;
			display: block;
			color: white;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
		}
		nav a:hover {
			background-color: #111;
		}

		.dropbtn {
    		background-color: #3498DB;
    		color: white;
    		padding: 16px;
    		font-size: 16px;
    		border: none;
    		cursor: pointer;
		}

		.dropdown {
			position: relative;
			display: inline-block;
			overflow: visible;
		}

		.dropdown-content {
			display: none;
			position: absolute;
			min-width: 150px;
			z-index: 1;
			overflow: visible;
		}

		.dropdown-content button{
			text-decoration: none;
			display: block;
			overflow: visible;
		}

		.show {
			display: block;
		}

		.filter{
			display: none;
		}

		.filter-label{
  			border: none;
  			outline: none;
  			padding: 12px 16px;
  			background-color: #f1f1f1;
  			cursor: pointer;
  			overflow: visible;
		}

		.filter:checked + .filter-label{
    		background-color: black;
    		color: white;
    		overflow: visible;
		}



/* Add a dark background to the active button */
		.btn.active {
  			background-color: #666;
  			color: white;
		}
	</style>
	<title>Create New Test</title>
</head>
<body onload="getQuestions()">

	<nav>
		<a href="https://web.njit.edu/~gea6/490/teacher/teacherDashboard.html">Home</a>
		<a href="https://web.njit.edu/~gea6/490/teacher/newTest.html">Create New Test</a>
		<a href="https://web.njit.edu/~gea6/490/teacher/viewTests.html">View Tests</a>
	</nav><br>
	<div style="align-content: center;">
		<h3 style="text-align: center;">Create New Test</h3>
		<input type="text" name="examName" id="examName" placeholder="Please enter name of exam" style="width: 35%; display: block; margin: 0 auto;"  />
		<br><input type="button" name="Submit New Exam" value="Create New Exam" onclick="getTID()" style="width: 35%; display: block; margin: 0 auto;" />
	</div>
	<!--<input type="button" name="Submit Test" value="Submit Questions" onclick="submitTest()" />-->
	<section id="container">
		<div id="availableQuestions" style="overflow: visible;">
			<p style="text-align: center;">Available Questions</p>
			<div class="dropdown">
			<button onclick="dropItDown()" class="dropbtn">Filters</button><br>
			<div id="dropdownOptions" class="dropdown-content">
				<input type="checkbox" class="filter" id="all-filter" data-filter="all">
				<label class="filter-label" for="all-filter">All</label><br><br>
				<input type="checkbox" class="filter" id="easy-filter" data-filter="easy">
				<label class="filter-label" for="easy-filter">Easy</label><br><br>
				<input type="checkbox" class="filter" id="medium-filter" data-filter="medium">
				<label class="filter-label" for="medium-filter">Medium</label><br><br>
				<input type="checkbox" class="filter" id="hard-filter" data-filter="hard">
				<label class="filter-label" for="hard-filter">Hard</label><br><br>
				<input type="checkbox" class="filter" id="none-filter" data-filter="NONE">
				<label class="filter-label" for="none-filter">None</label><br><br>
				<input type="checkbox" class="filter" id="if-filter" data-filter="if">
				<label class="filter-label" for="if-filter">If</label><br><br>
				<input type="checkbox" class="filter" id="forloop-filter" data-filter="forloop">
				<label class="filter-label" for="forloop-filter">For Loop</label><br><br>
				<input type="checkbox" class="filter" id="while-filter" data-filter="while">
				<label class="filter-label" for="while-filter">While</label><br><br>
				<input type="checkbox" class="filter" id="dictionary-filter" data-filter="dictionary">
				<label class="filter-label" for="dictionary-filter">Dictionary</label><br><br>
				<!--
				<label for="easynone-filter">Easy None</label>
				<label for="easyif-filter">Easy If</label>
				<label for="easyforloop-filter">Easy For Loop</label>
				<label for="easywhile-filter">Easy While</label>
				<label for="easydictionary-filter">Easy Dictionary</label>
				<label for="mediumnone-filter">Medium None</label>
				<label for="mediumif-filter">Medium If</label>
				<label for="mediumforloop-filter">Medium For Loop</label>
				<label for="mediumwhile-filter">Medium While</label>
				<label for="mediumdictionary-filter">Medium Dictionary</label>
				<label for="hardnone-filter">Hard None</label>
				<label for="hardif-filter">Hard If</label>
				<label for="hardforloop-filter">Hard For Loop</label>
				<label for="hardwhile-filter">Hard While</label>
				<label for="harddictionary-filter">Hard Dictionary</label>-->
			</div>
			</div>
			<input id="filterInput" type="text" name="filterInput" placeholder="Enter search keywords" style="width: 100%; align-content: center;">
			<div id="questionList" style="list-style-type:none">
				
			</div>
		</div>

		<div id="newQuestion">
			<p style="text-align: center;">Add New Question</p>
			<form style="margin-left: 25%; margin-right: 25%; margin-top: 5%">
				<input id="text" type="text" name="text" placeholder="Question Name" style="align-content: center; width: 100%;"><br>
				<input id="function" type="text" name="function" placeholder="Specify name of function (ex. doubleNum)" style="align-content: center; width: 100%;"><br>
				<select style="align-content: center; width: 100%" id="difficulty-option">
					<option value="easy">Easy</option>
					<option value="medium">Medium</option>
					<option value="hard">Hard</option>
				</select><br>
				<select style="align-content: center; width: 100%" id="category-option">
					<option value="NONE">None</option>
					<option value="if">If</option>
					<option value="forloop">For Loop</option>
					<option value="while">While</option>
					<option value="dictionary">Dictionary</option>
				</select><br>
				<input id="testCase1" type="text" name="testCase1" placeholder="Enter test case ex. 1 2 (required)" style="align-content: center; width: 100%;"><br>
				<input id="testCase2" type="text" name="testCase2" placeholder="Enter test case ex. 1 2 (required)" style="align-content: center; width: 100%;"><br>
				<input id="testCase3" type="text" name="testCase3" placeholder="Enter test case ex. 1 2 (not required)" style="align-content: center; width: 100%;"><br>
				<input id="testCase4" type="text" name="testCase4" placeholder="Enter test case ex. 1 2 (not required)" style="align-content: center; width: 100%;"><br>
				<input id="testCase5" type="text" name="testCase5" placeholder="Enter test case ex. 1 2 (not required)" style="align-content: center; width: 100%;"><br>
				<input id="testCase6" type="text" name="testCase6" placeholder="Enter test case ex. 1 2 (not required)" style="align-content: center; width: 100%;"><br>
				<input id="description" type="text" name="score" placeholder="Description (Easy Forloop)" style="align-content: center; width: 100%;"><br>
				<button id="btn" onclick="newQuestion()" style="align-content: center;">Create New Question</button>
			</form>

		</div>

	</section>

	<script>
		let filterInput = document.getElementById('filterInput');
		filterInput.addEventListener('keyup', filterWords);

		function filterWords() {
			let filterValue = document.getElementById('filterInput').value.toUpperCase();
			console.log("FILTERING WORDS");
			
			var availableQuestions = document.getElementById('questionList');
			var divs = document.getElementsByName('questionElement');
			for (var i = 0; i < divs.length; i++) {
				var p = divs[i].getElementsByTagName("p")[0];

				if (p) {
					if (p.innerHTML.toUpperCase().indexOf(filterValue) > -1) {
						divs[i].style.display = ""
					} else {
						divs[i].style.display = "none";
					}
				}
			}
		}

		function dropItDown() {
			document.getElementById("dropdownOptions").classList.toggle("show")
		}

		var filters = document.getElementsByClassName('filter');
		for (var j = 0; j < filters.length; j++) {
			filters[j].addEventListener('change', filter);
		}

		function filter() {
			var elements = document.getElementsByClassName('filterElement');
			for (var k = 0; k < elements.length; k++) {
				elements[k].style.display = 'none';
			}

			for (var l = 0; l < filters.length; l++) {
				if (filters[l].checked){
					var currFilter = filters[l].getAttribute('data-filter');

					var visibleElements = document.getElementsByClassName(currFilter);
					for (var m = 0; m < visibleElements.length; m++) {
						visibleElements[m].style.display = "block";
					}
				}
			}
		}

		var btnContainer = document.getElementById("dropdownOptions");
		var btns = btnContainer.getElementsByClassName("btn");
		for (var i = 0; i < btns.length; i++) {
			btns[i].addEventListener("click", function(){
				var current = document.getElementsByClassName("active");
				current[0].className = current[0].className.replace(" active", "");
				this.className += " active";
			});
		} 
	</script>
</body>
</html>